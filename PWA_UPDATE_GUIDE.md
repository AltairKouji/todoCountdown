# 🔄 PWA 更新指南

如果您的主屏幕 PWA 没有更新到最新版本，请按以下步骤操作：

## 📱 iPhone Safari 更新方法

### 方法一：删除并重新安装（推荐）

1. **删除旧的 PWA**
   - 长按主屏幕上的应用图标
   - 点击 **移除 App**
   - 确认删除

2. **重新安装**
   - 打开 Safari 浏览器
   - 访问您的应用 URL（Vercel 部署地址）
   - 点击底部 **分享** 按钮 📤
   - 滑动找到 **添加到主屏幕**
   - 点击 **添加**

3. **从主屏幕打开新安装的 App**

### 方法二：清除缓存后刷新

如果不想删除重装：

1. **打开主屏幕的 PWA**
2. 在地址栏左侧点击 **刷新** 按钮
3. 如果还是旧版本，尝试：
   - 完全关闭 App（上滑退出）
   - 重新打开

---

## 💻 Android Chrome 更新方法

### 方法一：删除并重新安装

1. **删除旧的 PWA**
   - 长按应用图标
   - 拖动到 **卸载**
   - 或者进入设置 → 应用 → 找到应用 → 卸载

2. **重新安装**
   - 打开 Chrome 浏览器
   - 访问应用 URL
   - 点击地址栏右侧的 **安装** 图标
   - 或者菜单 → **添加到主屏幕**

### 方法二：清除应用数据

1. 设置 → 应用 → 找到您的 PWA
2. 存储 → **清除数据** 和 **清除缓存**
3. 重新打开应用

---

## 🖥️ 桌面版更新方法

### Chrome / Edge

1. 打开已安装的 PWA
2. 点击右上角 **三个点** → **关于此应用**
3. 查看版本信息
4. 如果有更新提示，点击更新
5. 或者：
   - 卸载 PWA（设置 → 应用 → 卸载）
   - 重新访问网站并安装

---

## 🔍 如何确认版本

打开应用后，查看：

1. **登录界面**：应该看到干净的用户名/密码输入框
2. **主界面**：
   - 标题应该居中
   - 右上角有"退出"按钮
   - 底部显示"已登录: XXX"
3. **功能**：
   - 添加待办后立即显示（不需要刷新页面）

如果看到以上特征，说明已经更新到最新版本。

---

## ⚠️ 为什么 PWA 不自动更新？

PWA 的特点是"离线优先"，所以：
1. 安装后会缓存所有资源
2. 即使代码更新，PWA 也可能使用旧缓存
3. 需要手动触发更新或重新安装

**推荐做法**：
- 每次代码有重大更新时，删除并重新安装 PWA
- 日常小更新可以尝试刷新页面

---

## 💡 开发者提示

如果您频繁更新代码，可以：
1. 使用浏览器访问（不安装 PWA），这样每次都是最新版本
2. 等功能稳定后再安装 PWA 到主屏幕
3. 或者每次部署后通知家人重新安装

---

**快速检查是否最新版本**：

打开应用，按 F12（或 Safari 的开发者工具），在 Console 中查看：
- 应该看到：`🔍 Supabase 配置检查:`
- 如果看到这个，说明是新版本
- 如果没看到或报错，说明还是旧版本，需要重新安装
